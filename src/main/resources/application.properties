# MySQL Database Configuration
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=none

# Jackson configuration for better JSON serialization
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# SpringDoc configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# Server configuration
server.port=8080

# Optional: Show SQL queries in console (helpful for debugging)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Disable Flyway auto-configuration
spring.flyway.enabled=false

# Swagger endpoint
springdoc.api-docs.path=/v3/api-docs

# Debug logging
logging.level.org.springdoc=DEBUG

# Emergency Swagger fix - disable problematic features
springdoc.model-and-view-allowed=true
springdoc.override-with-generic-response=false
springdoc.auto-tag-classes=false
springdoc.remove-broken-reference-definitions=false

# Simplify OpenAPI generation
springdoc.show-actuator=false
springdoc.use-fqn=true
