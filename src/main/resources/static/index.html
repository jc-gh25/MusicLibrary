<!DOCTYPE html>

<html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="Music Library API - A Spring Boot REST API portfolio project demonstrating backend development, AWS deployment, and DevOps practices.">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Library API - Backend Development Portfolio Project</title>
    <!-- Prism.js CSS for syntax highlighting (Light Theme) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --text-dark: #1f2937;
            --text-light: #4b5563;
            --bg-light: #f9fafb;
            --bg-white: #ffffff;
            --border-color: #e5e7eb;
            --success-color: #10b981;
            --code-bg: #f3f4f6;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(270deg, #1a1a4d 0%, #000022 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            color: #000000;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }

        .badge {
            display: inline-block;
            padding: 6px 12px;
            background: var(--accent-color);
            color: white;
            border-radius: 20px;
            font-size: 0.80rem;
            margin: 5px;
            font-weight: 500;
        }

        /* Technology-specific brand colors */
        .badge-spring {
            background: #6DB33F; /* Spring Boot official green */
        }

        .badge-java {
            background: #E76F00; /* Java official orange */
        }

        .badge-mysql {
            background: #00758F; /* MySQL official blue */
        }

        .badge-jpa {
            background: #59666C; /* Hibernate gray */
        }

        .badge-rest {
            background: #8B5CF6; /* Purple for RESTful - distinct from buttons */
        }

        .section {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
        }

        h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--accent-color);
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.3rem;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
            color: var(--text-dark);
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tech-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }

        .tech-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .tech-card ul {
            list-style: none;
            padding-left: 0;
        }

        .tech-card li {
            padding: 5px 0;
            color: var(--text-dark);
        }


        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: linear-gradient(135deg, #93c5fd 0%, #bfdbfe 100%);
            color: #1f2937;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .architecture-layer {
            background: var(--bg-light);
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 5px solid var(--accent-color);
        }

        .architecture-layer h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.15rem;
        }

        .class-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .class-item {
            background: #ffffff;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .class-item h5 {
            color: var(--secondary-color);
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .class-item code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9rem;
            color: var(--primary-color);
        }

        .cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 8px 14px rgba(1, 1, 1, 0.6);
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 14px 16px rgba(2, 2, 2, 0.7);
        }

        .btn-success {
            background: #10b981;
            color: white;
            box-shadow: 0 8px 14px rgba(1, 1, 1, 0.6);
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 14px 16px rgba(2, 2, 2, 0.7);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: var(--primary-color);
            box-shadow: 0 8px 14px rgba(1, 1, 1, 0.4);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 8px 14px rgba(1, 1, 1, 0.4);
        }

        .api-endpoint {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--success-color);
        }

        .endpoint-method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
            font-size: 0.85rem;
        }

        .method-get { background: #10b981; color: white; }
        .method-post { background: #3b82f6; color: white; }
        .method-put { background: #f59e0b; color: white; }
        .method-delete { background: #ef4444; color: white; }

        footer {
            text-align: center;
            padding: 30px;
            color: #b0b0b0;
            margin-top: 40px;
        }

        footer p {
            color: #b0b0b0;
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 6px;
            border-radius: 3px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .tech-stack,
            .features-grid,
            .class-list {
                grid-template-columns: 1fr;
            }

            .cta-buttons {
                flex-direction: column;
            }
        }

        /* Custom CSS for code wrapping */
        pre[class*="language-"] {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        code[class*="language-"] {
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Custom Prism color overrides for better readability */
        pre[class*="language-"],
        code[class*="language-"] {
            background: #f8f9fa !important;
            color: #24292e !important;
        }

        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: #6a737d !important;
        }

        .token.punctuation {
            color: #24292e !important;
        }

        .token.property,
        .token.tag,
        .token.boolean,
        .token.number,
        .token.constant,
        .token.symbol,
        .token.deleted {
            color: #005cc5 !important;
        }

        .token.selector,
        .token.attr-name,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
            color: #032f62 !important;
        }

        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string {
            color: #d73a49 !important;
        }

        .token.atrule,
        .token.attr-value,
        .token.keyword {
            color: #d73a49 !important;
        }

        .token.function,
        .token.class-name {
            color: #6f42c1 !important;
        }

        .token.annotation {
            color: #22863a !important;
            font-weight: bold !important;
        }

        .token.regex,
        .token.important,
        .token.variable {
            color: #e36209 !important;
        }
		
		.app-launcher-container {
			background: #f8f9fa;
			border: 2px solid #e9ecef;
			border-radius: 8px;
			padding: 20px;
			margin: 20px 0;
			text-align: center;
		}

		.start-app-button {
			background: #007bff;
			color: white;
			border: none;
			box-shadow: 0 8px 14px rgba(1, 1, 1, 0.4);
			padding: 12px 24px;
			font-size: 16px;
			border-radius: 5px;
			border: 2px solid var(--primary-color);
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.start-app-button:hover {
			background: #0056b3;
		}

		.start-app-button:disabled {
			background-color: #6c757d !important; /* Gray background */
			cursor: not-allowed !important;       /* No-entry cursor */
			opacity: 0.6;                        /* Slightly faded */
		}

		.start-app-button:disabled:hover {
			background-color: #6c757d !important; /* Stay gray on hover */
		}


		.launcher-progress-bar {
			width: 100%;
			height: 20px;
			background: #e9ecef;
			border-radius: 10px;
			overflow: hidden;
			margin: 15px 0;
		}

		.launcher-progress-fill {
			height: 100%;
			background: #007bff;
			width: 0%;
			transition: width 0.5s ease;
		}

		.launcher-note {
			font-size: 14px;
			color: #6c757d;
			margin: 10px 0 0 0;
		}

		
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Music Library API </h1>
            <p class="subtitle">Java Bootcamp Project - RESTful API for Music Album Management</p>
            
           
            <div style="margin-bottom: 20px;">
                <span class="badge badge-spring">Spring Boot 3.5.7</span>
                <span class="badge badge-java">Java 17</span>
                <span class="badge badge-mysql">MySQL</span>
                <span class="badge badge-jpa">JPA/Hibernate</span>
                <span class="badge badge-rest">RESTful</span>
            </div>
	
		
			
			<!-- Application Launcher Section -->
			<div id="app-launcher" class="app-launcher-container">
				<!-- Initial state: Shows launch button and description -->
			<div id="launcher-idle" class="launcher-idle">
				<h2>üéµ Launch Application</h2>
				<p>Loads on-demand to minimize costs. Takes ~5-7 minutes to load database and Java application.</p>
				<p> Enter your email address to be notified when ready (optional).</p>
				
				<!-- Allow email address input -->
				<input type="email" id="user-email" class="launcher-email-input" placeholder="Your email (optional)" />
				
				<button id="start-app-btn" class="start-app-button" onclick="startApplication()">
					Launch Music Library
				</button>
				
			</div>

    
			<!-- Progress state: Shows during service startup (hidden by default) -->
			<div id="launcher-progress" class="launcher-progress" style="display: none;">
				<h3>üîÑ Starting Music Library...</h3>
				<!-- Visual progress bar for user feedback during startup -->
				<div class="launcher-progress-bar">
					<div id="launcher-progress-fill" class="launcher-progress-fill"></div>
				</div>
				<p id="launcher-status">Initializing services...</p>
				<p class="launcher-note">‚Ä¢ AWS ECS Fargate + RDS ‚Ä¢ Lambda-triggered startup ‚Ä¢ Auto-scaling infrastructure</p>
			</div>
		</div>



            
           
			<hr style="border: 0; border-top: 2px solid #999; margin: 30px 0;">

            <div class="cta-buttons">
                
                <a href="http://project.jcarl.net/swagger-ui.html" class="btn btn-success" target="_blank">üìÑ Live API Documentation (Swagger)</a>
                <a href="https://github.com/jc-gh25/MusicLibrary" class="btn btn-secondary" target="_blank">üíª View Repository and Readme on GitHub</a>
            </div>
        </header>

        <section class="section">
            <h2>üìã Project Overview</h2>
            <p>
                The <strong>Music Library API</strong> is a comprehensive backend application developed as a final bootcamp project, 
                demonstrating professional-grade software engineering practices. This RESTful API provides complete CRUD operations 
                for managing a music catalog including artists, albums, and genres with sophisticated relationship management. Album track integration can be added as the next feature.
            </p>
            <p>
                Built following best practices for layered architecture, this project showcases expertise in Spring Boot ecosystem, 
                database design, API development, testing strategies, and cloud deployment practices. The application features a comprehensive music library with 50 artists and over 100 albums, now deployed on AWS cloud infrastructure with production-grade reliability.
            </p>
            <p>
                <strong>Live AWS Production API:</strong> <span class="highlight">http://project.jcarl.net/api</span><br>
                <strong>Deployment Status:</strong> <span class="highlight"> Validated with 182 requests, 600 tests, 100% pass rate</span>
            </p>
        </section>

        <section class="section">
            <h2>üåü Key Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üõ†Ô∏è Robust REST Architecture</h4>
                    <p>Full Create, Read, Update, Delete functionality adhering to REST principles with proper HTTP status codes and standardized response envelopes.</p>
                </div>
                <div class="feature-card">
                    <h4>üîó Complex Relationships</h4>
                    <p>Managed One-to-Many (Artist-Album) and Many-to-Many (Album-Genre) JPA relationships with bidirectional synchronization and orphan removal.</p>
                </div>
                <div class="feature-card">
                    <h4>üìÑ Pagination & Sorting</h4>
                    <p>Optimized data retrieval using Spring Data Pageable to handle large datasets efficiently without performance bottlenecks.</p>
                </div>
                <div class="feature-card">
                    <h4>üîç Dynamic Search Specifications</h4>
                    <p>Advanced filtering system using JPA Specifications to query by title, release date ranges, and genre associations dynamically.</p>
                </div>
                <div class="feature-card">
                    <h4>‚úÖ Bean Validation Security</h4>
                    <p>Strict data integrity enforcement using JSR-380 (Bean Validation) custom constraints at the API boundary to prevent malformed data.</p>
                </div>
                <div class="feature-card">
                    <h4>üõ°Ô∏è Global Exception Handling</h4>
                    <p>Centralized @RestControllerAdvice mechanism that transforms Java exceptions into user-friendly, consistent JSON error responses.</p>
                </div>
                <div class="feature-card">
                    <h4>üìñ Interactive API Docs</h4>
                    <p>Self-documenting API using Swagger UI (OpenAPI 3.0), allowing developers to visualize and test endpoints directly in the browser.</p>
                </div>
                <div class="feature-card">
                    <h4>üî¨ Test-Driven Reliability</h4>
                    <p>Comprehensive suite including Unit tests with Mockito, Integration tests using Testcontainers to real database interactions, and Maven Surefire test reporting.</p>
                </div>
                <div class="feature-card">
                    <h4>üéµ Automated Media Enrichment</h4>
                    <p>Custom integration with the iTunes Search API to automatically discover, fetch, and resize high-resolution album artwork.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üõ†Ô∏è Technology Stack</h2>
            <div class="tech-stack">
                <div class="tech-card">
                    <h4>Backend Framework</h4>
                    <ul>
                        <li>Spring Boot 3.5.7</li>
                        <li>Spring Web MVC</li>
                        <li>Spring Data JPA</li>
                        <li>Spring Validation</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Database &amp; ORM</h4>
                    <ul>
                        <li>MySQL (Production)</li>
                        <li>H2 Database (Testing)</li>
                        <li>Hibernate ORM</li>
                        <li>Hibernate DDL Auto-Update</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Development Tools</h4>
                    <ul>
                        <li>Java 17</li>
                        <li>Maven Build Tool</li>
                        <li>Lombok</li>
                        <li>Jackson (JSON with Java 8 date/time)</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>API &amp; Documentation</h4>
                    <ul>
                        <li>RESTful Architecture</li>
                        <li>SpringDoc OpenAPI 3</li>
                        <li>Swagger UI</li>
                        <li>JSON Response Format</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Testing</h4>
                    <ul>
                        <li>JUnit 5</li>
                        <li>Mockito (Unit testing framework)</li>
                        <li>Testcontainers (Docker-based integration testing)</li>
                        <li>Maven Surefire (Test execution and reporting)</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Cloud Deployment (AWS)</h4>
                    <ul>
                        <li>AWS RDS MySQL (Production Database)</li>
                        <li>AWS ECR (Container Registry)</li>
                        <li>AWS ECS Fargate (Serverless Containers)</li>
                        <li>Namesilo DNS API (Automated DNS Management)</li>
                        <li>AWS CloudShell (Docker Build Environment)</li>
                        <li>AWS CodeBuild (CI/CD Pipeline)</li>
                        <li>Docker Containerization</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üèóÔ∏è Architecture Overview</h2>
            <p>
                The application follows a <strong>layered architecture</strong> pattern with clear separation of concerns, 
                promoting maintainability, testability, and scalability. Each layer has distinct responsibilities and 
                communicates through well-defined interfaces.
            </p>

            <div class="architecture-layer">
                <h4>üö¶ Controller Layer (Presentation)</h4>
                <p>
                    Handles HTTP requests and responses, maps URLs to service methods, validates input, and formats output. 
                    Uses Spring MVC annotations for RESTful endpoint definition.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>MusicLibraryController</h5>
                        <pre><code class="language-java">@RestController</code></pre>
                        <p>Main REST controller exposing all API endpoints for Artists, Albums, and Genres. Implements comprehensive 
                        OpenAPI annotations for documentation. Handles pagination with <code class="language-java">@ParameterObject Pageable</code>.</p>
                    </div>
                    <div class="class-item">
                        <h5>SwaggerRedirectController</h5>
                        <pre><code class="language-java">@Controller</code></pre>
                        <p>Redirects root URL to Swagger UI for convenient API documentation access.</p>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h4>‚öôÔ∏è Service Layer (Business Logic)</h4>
                <p>
                    Contains business logic, transaction management, and orchestrates operations between controllers and repositories. 
                    Annotated with <code class="language-java">@Service</code> and <code class="language-java">@Transactional</code> for proper transaction boundaries.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>ArtistService</h5>
                        <pre><code class="language-java">@Service @Transactional</code></pre>
                        <p>Manages artist CRUD operations with pagination support. Throws <code class="language-java">ResourceNotFoundException</code> 
                        for missing entities. Uses constructor injection via <code class="language-java">@RequiredArgsConstructor</code>.</p>
                    </div>
                    <div class="class-item">
                        <h5>AlbumService</h5>
                        <pre><code class="language-java">@Service @Transactional</code></pre>
                        <p>Handles album operations including complex many-to-many genre relationships. Implements advanced search 
                        using JPA Specifications. Manages bidirectional relationship synchronization with explicit Hibernate initialization.</p>
                    </div>
                    <div class="class-item">
                        <h5>GenreService</h5>
                        <pre><code class="language-java">@Service @Transactional</code></pre>
                        <p>Manages genre entities and their album associations. Provides methods for adding/removing albums from genres 
                        while maintaining referential integrity.</p>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h4>üóÉÔ∏è Repository Layer (Data Access)</h4>
                <p>
                    Interfaces extending Spring Data JPA repositories for database operations. Provides automatic CRUD implementation 
                    and custom query methods using Spring Data naming conventions.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>ArtistRepository</h5>
                        <pre><code class="language-java">extends JpaRepository&lt;Artist, Long&gt;</code></pre>
                        <p>Data access interface for Artist entities. Inherits standard CRUD and pagination methods from JpaRepository.</p>
                    </div>
                    <div class="class-item">
                        <h5>AlbumRepository</h5>
                        <pre><code class="language-java">extends JpaRepository, JpaSpecificationExecutor</code></pre>
                        <p>Repository with custom query methods: <code class="language-java">findByArtist_ArtistId()</code> and <code class="language-java">findByGenres_GenreId()</code>. 
                        Implements JpaSpecificationExecutor for dynamic query building.</p>
                    </div>
                    <div class="class-item">
                        <h5>GenreRepository</h5>
                        <pre><code class="language-java">extends JpaRepository&lt;Genre, Long&gt;</code></pre>
                        <p>Simple repository interface for Genre entity persistence operations.</p>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h4>üìÑ Entity Layer (Domain Model)</h4>
                <p>
                    JPA entities representing database tables with proper relationships, validation constraints, and lifecycle callbacks. 
                    Uses Lombok for boilerplate reduction and Jackson annotations for JSON serialization control.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>Artist</h5>
                        <pre><code class="language-java">@Entity @Table(name="artist")</code></pre>
                        <p><strong>Fields:</strong> artistId (PK), name (required, max 255), description (TEXT), createdAt, updatedAt<br>
                        <strong>Relationships:</strong> One-to-Many with Album (cascade ALL, orphan removal)<br>
                        <strong>Features:</strong> @PrePersist/@PreUpdate for timestamps, @JsonIgnore on albums collection to prevent cycles</p>
                    </div>
                    <div class="class-item">
                        <h5>Album</h5>
                        <pre><code class="language-java">@Entity @Table(name="album")</code></pre>
                        <p><strong>Fields:</strong> albumId (PK), title (required), releaseDate, coverImageUrl, trackCount, catalogNumber (unique), 
                        createdAt, updatedAt<br>
                        <strong>Relationships:</strong> Many-to-One with Artist (required), Many-to-Many with Genre via join table<br>
                        <strong>Features:</strong> Transient getReleaseYear() method, custom setGenres() for bidirectional sync, LAZY fetching</p>
                    </div>
                    <div class="class-item">
                        <h5>Genre</h5>
                        <pre><code class="language-java">@Entity @Table(name="genre")</code></pre>
                        <p><strong>Fields:</strong> genreId (PK), name (required, max 100), description (TEXT), createdAt, updatedAt<br>
                        <strong>Relationships:</strong> Many-to-Many with Album (inverse side, EAGER fetch for testing)<br>
                        <strong>Features:</strong> @JsonIgnore on albums to break serialization cycles, @EqualsAndHashCode.Exclude on collections</p>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h4>üîç Specification Layer (Dynamic Queries)</h4>
                <p>
                    Implements the Specification pattern for building dynamic, type-safe queries with JPA Criteria API.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>AlbumSpecs</h5>
                        <pre><code class="language-java">Specification&lt;Album&gt;</code></pre>
                        <p>Provides static factory methods for album filtering:<br>
                        ‚Ä¢ <code class="language-java">titleContains(String)</code> - Case-insensitive title search<br>
                        ‚Ä¢ <code class="language-java">releasedBetween(Integer, Integer)</code> - Date range filtering<br>
                        ‚Ä¢ <code class="language-java">hasGenre(Long)</code> - Filter by genre association with JOIN</p>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h4>üö® Exception Handling Layer</h4>
                <p>
                    Centralized exception handling using Spring's @RestControllerAdvice for consistent error responses across the API.
                </p>
                <div class="class-list">
                    <div class="class-item">
                        <h5>GlobalExceptionHandler</h5>
                        <pre><code class="language-java">@RestControllerAdvice</code></pre>
                        <p>Handles multiple exception types with specific handlers:<br>
                        ‚Ä¢ <code class="language-java">MethodArgumentNotValidException</code> ‚Üí 400 (validation errors)<br>
                        ‚Ä¢ <code class="language-java">ConstraintViolationException</code> ‚Üí 400 (constraint violations)<br>
                        ‚Ä¢ <code class="language-java">ResourceNotFoundException</code> ‚Üí 404 (entity not found)<br>
                        ‚Ä¢ <code class="language-java">MethodArgumentTypeMismatchException</code> ‚Üí 400 (type errors)<br>
                        ‚Ä¢ <code class="language-java">HttpMessageNotReadableException</code> ‚Üí 400 (malformed JSON)<br>
                        ‚Ä¢ <code class="language-java">Exception</code> ‚Üí 500 (unexpected errors with logging)</p>
                    </div>
                    <div class="class-item">
                        <h5>ResourceNotFoundException</h5>
                        <pre><code class="language-java">extends RuntimeException</code></pre>
                        <p>Custom exception thrown when requested entities don't exist. Automatically converted to 404 responses 
                        by GlobalExceptionHandler.</p>
                    </div>
                    <div class="class-item">
                        <h5>ApiError</h5>
                        <pre><code class="language-java">@Builder</code></pre>
                        <p>Uniform error response DTO containing: timestamp, status code, error type, message, request path, 
                        and optional validation error list. Provides consistent error format across all endpoints.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üì° API Endpoints</h2>
            <p>All endpoints are prefixed with <code>/api</code> and return JSON responses.</p>

            <h3>üé§ Artist Endpoints</h3>
            <div class="api-endpoint">
                <span class="endpoint-method method-post">POST</span>
                <code>/api/artists</code> - Create a new artist
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/artists?page=0&amp;size=20&amp;sort=name,asc</code> - Get paginated artists
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/artists/{id}</code> - Get artist by ID
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-put">PUT</span>
                <code>/api/artists/{id}</code> - Update artist
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-delete">DELETE</span>
                <code>/api/artists/{id}</code> - Delete artist
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/artists/{artistId}/albums</code> - Get all albums by artist
            </div>

            <h3>üíø Album Endpoints</h3>
            <div class="api-endpoint">
                <span class="endpoint-method method-post">POST</span>
                <code>/api/albums</code> - Create a new album
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/albums?page=0&amp;size=20</code> - Get paginated albums
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/albums/{id}</code> - Get album by ID
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-put">PUT</span>
                <code>/api/albums/{id}</code> - Update album
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-delete">DELETE</span>
                <code>/api/albums/{id}</code> - Delete album
            </div>

            <h3>üé∏ Genre Endpoints</h3>
            <div class="api-endpoint">
                <span class="endpoint-method method-post">POST</span>
                <code>/api/genres</code> - Create a new genre
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/genres?page=0&amp;size=20</code> - Get paginated genres
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/genres/{id}</code> - Get genre by ID
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-put">PUT</span>
                <code>/api/genres/{id}</code> - Update genre
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-delete">DELETE</span>
                <code>/api/genres/{id}</code> - Delete genre
            </div>
            <div class="api-endpoint">
                <span class="endpoint-method method-get">GET</span>
                <code>/api/genres/{genreId}/albums</code> - Get all albums by genre
            </div>
        </section>

        <section class="section">
            <h2>üí° Technical Highlights</h2>
            <div class="tech-card">
                <h4>üîê Data Validation</h4>
                <p>Comprehensive input validation using Bean Validation (JSR-380) annotations:</p>
                <ul>
                    <li>üõ°Ô∏è @NotBlank, @Size for string fields</li>
                    <li>üõ°Ô∏è @NotNull for required relationships</li>
                    <li>üõ°Ô∏è @PositiveOrZero for numeric constraints</li>
                    <li>üõ°Ô∏è Custom validation messages for user-friendly errors</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>üîÑ Bidirectional Relationships</h4>
                <p>Properly managed JPA relationships with:</p>
                <ul>
                    <li>üîó Cascade operations for dependent entities</li>
                    <li>üîó Orphan removal for data integrity</li>
                    <li>üîó Explicit Hibernate.initialize() to prevent LazyInitializationException</li>
                    <li>üîó @JsonIgnore to break serialization cycles</li>
                    <li>üîó Custom setters for bidirectional synchronization</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>üìä Advanced Querying</h4>
                <p>Flexible data retrieval with:</p>
                <ul>
                    <li>üîç Spring Data JPA derived query methods</li>
                    <li>üîç JPA Specifications for dynamic filtering</li>
                    <li>üîç Pagination and sorting support</li>
                    <li>üîç Property path navigation (e.g., findByArtist_ArtistId)</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>‚úÖ Testing Strategy</h4>
                <p>Multi-layered testing approach:</p>
                <ul>
                    <li>‚úîÔ∏è Unit tests with Mockito for service layer isolation</li>
                    <li>‚úîÔ∏è Integration tests with @SpringBootTest</li>
                    <li>‚úîÔ∏è Testcontainers for real MySQL database testing</li>
                    <li>‚úîÔ∏è Maven Surefire - Test execution framework that generates detailed test reports</li>
                    <li>‚úîÔ∏è Separate test profile with H2 in-memory database</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>üóÑÔ∏è Database Management</h4>
                <p>Professional database practices:</p>
                <ul>
                    <li>‚öôÔ∏è Hibernate DDL auto-update for automatic schema management</li>
                    <li>‚öôÔ∏è Separate profiles for dev/test/production</li>
                    <li>‚öôÔ∏è Proper indexing on foreign keys</li>
                    <li>‚öôÔ∏è Timestamp tracking with @PrePersist/@PreUpdate</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>üìñ API Documentation</h4>
                <p>Comprehensive OpenAPI 3.0 documentation:</p>
                <ul>
                    <li>üìö @Operation annotations with descriptions</li>
                    <li>üìö @ApiResponses for all status codes</li>
                    <li>üìö Request/response examples</li>
                    <li>üìö Interactive Swagger UI for testing</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2>‚òÅÔ∏è AWS Cloud Deployment</h2>
            <p>
                The Music Library API is deployed on <strong>Amazon Web Services (AWS)</strong> using modern cloud-native technologies 
                and best practices for production-grade applications. The deployment leverages containerization and serverless compute 
                for scalability, reliability, and cost-effectiveness.
            </p>

            <h3>üèóÔ∏è AWS Architecture</h3>
            <div class="tech-stack">
                <div class="tech-card">
                    <h4>üóÑÔ∏è AWS RDS MySQL</h4>
                    <ul>
                        <li>Managed relational database service</li>
                        <li>Automatic backups and point-in-time recovery</li>
                        <li>Multi-AZ deployment for high availability</li>
                        <li>Automated patching and maintenance</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>üê≥ Docker Containerization</h4>
                    <ul>
                        <li>Application packaged as Docker container</li>
                        <li>Consistent environment across dev/prod</li>
                        <li>Isolated dependencies and runtime</li>
                        <li>Efficient resource utilization</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>üì¶ AWS ECR (Elastic Container Registry)</h4>
                    <ul>
                        <li>Private Docker image repository</li>
                        <li>Secure image storage and versioning</li>
                        <li>Integration with ECS for deployment</li>
                        <li>Automated vulnerability scanning</li>
                    </ul>
                </div>
                <div class="tech-card">
				<h4>üöÄ AWS ECS Fargate</h4>
				<ul>
					<li>Serverless container orchestration</li>
					<li>No server management required</li>
					<li>Ephemeral infrastructure design</li> <!-- Changed this line -->
					<li>Pay-per-use pricing model</li>
				</ul>
			</div>
                <div class="tech-card">
					<h4>üîß AWS CodeBuild</h4>
					<ul>
						<li><strong>S3-Triggered Pipeline:</strong> Automated deployments upon source artifact upload</li>
						<li><strong>Multi-Stage Builds:</strong> Optimized Docker images for minimal runtime footprint</li>
						<li><strong>Dependency Management:</strong> Integrated with AWS Public ECR mirrors</li>
						<li><strong>Artifact Handling:</strong> Automated pushing to Private ECR repository</li>
					</ul>
				</div>
				<div class="tech-card">
					<h4>üõ°Ô∏è Security & Access Control</h4>
					<ul>
						<li><strong>AWS IAM:</strong> Role-based access control (RBAC) with Principle of Least Privilege</li>
						<li><strong>VPC Security Groups:</strong> Granular network firewalling for port isolation</li>
						<li><strong>Container Security:</strong> Hardened Alpine Linux runtime (minimal attack surface)</li>
						<li><strong>Secret Management:</strong> Secure environment variable injection</li>
					</ul>
				</div>
				<div class="tech-card">
					<h4>üõ†Ô∏è DevOps & Management</h4>
					<ul>
						<li><strong>AWS CloudShell:</strong> Browser-based environment for Docker builds and scripting</li>
						<li><strong>AWS CLI:</strong> Command-line interaction with ECR and ECS</li>
						<li><strong>AWS S3:</strong> Artifact storage and CodeBuild pipeline trigger</li>
						<li><strong>Bash Scripting:</strong> Custom automation for DNS updates and deployment</li>
					</ul>
				</div>
				<div class="tech-card">
					<h4>üìä Operations & Observability</h4>
					<ul>
						<li><strong>AWS CloudWatch:</strong> Real-time log aggregation and monitoring</li>
						<li><strong>Health Checks:</strong> Spring Boot Actuator endpoints for container health</li>
						<li><strong>Lambda Status API:</strong> Custom endpoint for application state monitoring</li>
					</ul>
				</div>
			</div>
            <h3>üìä Current Deployment Status</h3>
            <div class="architecture-layer">
                <h4>‚òÅÔ∏è Production Environment</h4>
                <p>
                    <strong>Domain:</strong> <code>project.jcarl.net</code><br>
                    <strong>Port:</strong> <code>80 (HTTP)</code><br>
                    <strong>DNS Provider:</strong> Namesilo with automated API-based updates<br>
                    <strong>Container Platform:</strong> AWS ECS Fargate (Serverless)<br>
                    <strong>Task Revision:</strong> Latest (auto-deployed via ECS)<br>
                    <strong>Build Environment:</strong> AWS CloudShell + CodeBuild<br>
                </p>
            </div>
            <h3>‚úÖ Deployment Validation</h3>
            <p>
                The AWS deployment has been thoroughly validated using Postman collection runner with comprehensive test coverage:
            </p>
            <ul style="margin-left: 20px; color: var(--text-dark);">
                <li>‚úîÔ∏è <strong>121 API requests</strong> executed successfully</li>
                <li>‚úîÔ∏è <strong>484 automated tests</strong> passed (100% success rate)</li>
                <li>‚úîÔ∏è All CRUD operations verified across Artists, Albums, and Genres</li>
                <li>‚úîÔ∏è Pagination, filtering, and relationship management tested</li>
                <li>‚úîÔ∏è Error handling and validation confirmed</li>
                <li>‚úîÔ∏è Database connectivity and persistence validated</li>
            </ul>
			<h3>üìà Project Metrics</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üî® Build Iterations</h4>
                    <p><strong>33+ Docker builds</strong> executed through AWS CloudShell and CodeBuild, demonstrating iterative development and continuous improvement of the containerized application.</p>
                </div>
                <div class="feature-card">
                    <h4>üèóÔ∏è Infrastructure Revisions</h4>
                    <p><strong>11+ ECS task definition updates</strong> deployed, reflecting ongoing optimization of container configurations, resource allocation, and environment variables.</p>
                </div>
                <div class="feature-card">
                    <h4>üåê DNS Automation</h4>
                    <p><strong>Custom DNS update script</strong> integrated with Namesilo API to automatically update A records when ECS assigns new public IPs, ensuring zero-downtime availability.</p>
                </div>
            </div>
			<h3>üåê Other Deployment Options</h3>
            <div class="architecture-layer">
                <h4>üöÇ Railway (Alternative Cloud Platform - Not Currently Used)</h4>
                <p>
                    <strong>Features:</strong> Simple deployment, automatic HTTPS, built-in database<br>
                    <strong>Use Case:</strong> Evaluated as an alternative cloud deployment option<br>
                    <strong>Note:</strong> AWS ECS Fargate was selected for production deployment
                </p>
            </div>

            <div class="architecture-layer">
                <h4>üñ•Ô∏è ngrok (Previous Local Development Configuration)</h4>
                <p>
                    <strong>Features:</strong> Secure tunneling, temporary public URLs, webhook testing<br>
                    <strong>Use Case:</strong> Previously used for local development, testing, and demonstration purposes<br>
                    <strong>Note:</strong> This was a temporary development configuration and is no longer active
                </p>
            </div>
        </section>

        <section class="section">
            <h2>üõ§Ô∏è Deployment Journey</h2>
            <p>
                This project evolved through several deployment iterations, overcoming real-world cloud infrastructure challenges 
                and implementing production-grade solutions. Each challenge provided valuable learning experiences in DevOps and cloud architecture.
            </p>

            <h3>üî• Challenges Overcome</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üêõ Duplicate DNS A Records Bug</h4>
                    <p>
                        Diagnosed and resolved DNS resolution failures caused by duplicate A records pointing to old and new IPs. 
                        Implemented proper DNS record cleanup logic in the automation script, ensuring single authoritative A record 
                        per deployment and preventing DNS propagation conflicts.
                    </p>
                </div>
                <div class="feature-card">
                    <h4>üîÑ ECS Circuit Breaker Rollbacks</h4>
                    <p>
                        Resolved automatic task rollbacks triggered by ECS Circuit Breaker due to health check failures. 
                        Debugged container startup issues, corrected environment variable configurations, and validated health 
                        check endpoints to achieve stable deployments without rollbacks.
                    </p>
                </div>
                <div class="feature-card">
                    <h4>üíª Windows LTSB Docker Incompatibility</h4>
                    <p>
                        Overcame local Docker Desktop limitations on Windows LTSB by pivoting to AWS CloudShell as the primary 
                        build environment. Leveraged CloudShell's pre-configured Docker and AWS CLI to establish a reliable, 
                        cloud-based build pipeline independent of local system constraints.
                    </p>
                </div>
                <div class="feature-card">
                    <h4>üîê IAM Permission Complexity</h4>
                    <p>
                        Navigated AWS IAM role and policy configurations to establish secure, least-privilege access patterns. 
                        Configured ECS task execution roles, ECR permissions, RDS security groups, and VPC networking to ensure 
                        secure communication between services while maintaining production security standards.
                    </p>
                </div>
            </div>

            <h3>üèÅ Deployment Milestones</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üåê DNS Migration: Route 53 ‚Üí Namesilo</h4>
                    <p>
                        Migrated from AWS Route 53 to Namesilo DNS API for automated domain management. Implemented custom DNS update 
                        automation to dynamically update A records when ECS tasks receive new public IPs, ensuring continuous availability 
                        at project.jcarl.net without manual intervention.
                    </p>
                </div>
                <div class="feature-card">
                    <h4>üê≥ AWS CloudShell Integration</h4>
                    <p>
                        Leveraged AWS CloudShell as a cloud-based Docker build environment, eliminating local dependency issues and 
                        providing consistent, reproducible builds. CloudShell's pre-configured AWS CLI and Docker support streamlined 
                        the container image creation and ECR push workflow.
                    </p>
                </div>
                <div class="feature-card">
                    <h4>üì¶ ECS Fargate Deployment Automation</h4>
                    <p>
                        Configured AWS ECS Fargate for serverless container orchestration with automatic task deployment. Implemented 
                        task definitions with proper resource allocation, environment variable management, and health checks for 
                        production-grade reliability and zero-downtime deployments.
                    </p>
                </div>
            </div>

            <h3>üí° Key Learnings</h3>
            <div class="architecture-layer">
                <h4>Technical Insights Gained</h4>
                <ul style="margin-left: 20px; color: var(--text-dark);">
                    <li>üìù <strong>DNS Management:</strong> Automated DNS updates require careful handling of record cleanup to prevent duplicate entries and resolution conflicts</li>
                    <li>üìù <strong>Container Health Checks:</strong> ECS Circuit Breaker provides automatic rollback protection but requires properly configured health endpoints and startup grace periods</li>
                    <li>üìù <strong>Cloud-Based Development:</strong> AWS CloudShell eliminates local environment dependencies and provides consistent build environments across team members</li>
                    <li>üìù <strong>Iterative Deployment:</strong> Production deployments benefit from incremental changes, comprehensive logging, and systematic troubleshooting of infrastructure issues</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2>üéì Learning Outcomes</h2>
            <p>This project demonstrates experience with:</p>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>Backend Development</h4>
                    <p>Spring Boot, Spring MVC, dependency injection, RESTful API design, HTTP protocol</p>
                </div>
                <div class="feature-card">
                    <h4>Database Design</h4>
                    <p>Relational modeling, JPA/Hibernate, entity relationships, query optimization, migrations</p>
                </div>
                <div class="feature-card">
                    <h4>Software Architecture</h4>
                    <p>Layered architecture, separation of concerns, SOLID principles, design patterns</p>
                </div>
                <div class="feature-card">
                    <h4>Testing &amp; Quality</h4>
                    <p>Unit testing, integration testing, test-driven development, code coverage</p>
                </div>
                <div class="feature-card">
                    <h4>DevOps &amp; Cloud Deployment</h4>
                    <p>AWS cloud services (RDS, ECR, ECS, CloudShell, CodeBuild), Docker containerization, CI/CD pipelines, DNS automation (Namesilo API), IAM security, infrastructure as code</p>
                </div>
                <div class="feature-card">
                    <h4>Best Practices</h4>
                    <p>Error handling, validation, logging, documentation, code organization</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üöÄ Getting Started</h2>
            <h3>Prerequisites</h3>
            <ul style="margin-left: 20px; color: var(--text-dark);">
                <li>Java 17 or higher</li>
                <li>Maven 3.6+</li>
                <li>MySQL 8.0+ (or use H2 for testing)</li>
            </ul>

            <h3>Running Locally</h3>
            <div class="api-endpoint">
                <code>git clone https://github.com/jc-gh25/MusicLibrary.git</code>
            </div>
            <div class="api-endpoint">
                <code>cd music-library</code>
            </div>
            <div class="api-endpoint">
                <code>mvn spring-boot:run</code>
            </div>
            <p>Access the API at <code>http://localhost:8080/api</code> and Swagger UI at <code>http://localhost:8080/swagger-ui.html</code></p>
            <p><strong>For public access:</strong> Use the AWS production URL: <code>http://project.jcarl.net/api</code></p>

            <h3>Running Tests</h3>
            <div class="api-endpoint">
                <code>mvn test</code>
            </div>
            <div class="api-endpoint">
                <code>mvn verify</code> (runs all tests with detailed reporting)
            </div>
        </section>
		


        <footer>
			<p>Built with ‚ù§Ô∏è as a Backend Development Bootcamp Final Project</p>
			<p>Connect: <a href="https://www.linkedin.com/in/jeffcarllinked/" target="_blank" style="color: #3b82f6; text-decoration: none;">LinkedIn Profile</a></p>
			<div class="cta-buttons" style="margin-top: 20px;">
				<a href="http://project.jcarl.net/swagger-ui.html" class="btn btn-primary" target="_blank">Try the AWS Production API</a>
			</div>
			<p style="margin-top: 30px; font-size: 0.8em; color: #666;">
				Deployed on AWS ECS Fargate ‚Ä¢ Serverless Container ‚Ä¢ AWS RDS MySQL
			</p>
		</footer>
    </div>

    <!-- Prism.js JavaScript for syntax highlighting -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>

			
			<script>
			// Configuration
			const APP_DOMAIN = 'http://project.jcarl.net';
			const STATUS_ENDPOINT = 'https://edxuxft6x1.execute-api.us-east-1.amazonaws.com/prod/status';
			const START_ENDPOINT = 'https://edxuxft6x1.execute-api.us-east-1.amazonaws.com/prod';

			// Detect if the app is already running
			async function detectContext() {
				console.log('Checking application status...');
				
				try {
					const response = await fetch(STATUS_ENDPOINT);
					const data = await response.json();
					
					console.log('Lambda status response:', data);
					
					if (data.database_status === 'available' && 
						data.application_status === 'RUNNING') {
						console.log('App is running - showing direct access');
						showDirectAccess(data);  // Pass full data object
					} else {
						console.log('App not running - showing launcher');
						showLauncher();
					}
					
				} catch (error) {
					console.error('Status endpoint error:', error);
					showLauncher();
				}
			}

			// Show the direct access UI when app is running
			function showDirectAccess(data) {
				const launcherDiv = document.getElementById('app-launcher');
				const directUrl = data.public_ip ? `http://${data.public_ip}` : APP_DOMAIN;
				
				launcherDiv.innerHTML = `
					<h2>üéµ Music Library is Running</h2>
					<p style="color: #10b981; font-weight: bold; font-size: 1.1rem;">‚úì Application is online and ready</p>
					<p>The database and application services are currently active.</p>
					
					<div style="margin-top: 25px;">
						<a href="${directUrl}/library.html" class="btn" target="_blank" 
						   style="font-size: 1.1rem; 
								  padding: 15px 35px; 
								  text-decoration: none;
								  background: linear-gradient(120deg, #ffffff 0%, #eee 100%);
								  color: #6f42c1;
								  border: 4px solid #6f42c1;
								  box-shadow: 0 14px 16px rgba(2, 2, 2, 0.7);
								  font-weight: bold;">
							Browse Music Library
						</a>
					</div>
					
					${data.public_ip ? `
					<p class="launcher-note" style="margin-top: 15px; font-size: 0.85rem;">
						<strong>Direct IP:</strong> <code>${data.public_ip}</code><br>
						<span style="color: #999;">(DNS may take hours to update after dynamic IP assignment)</span>
					</p>
					` : ''}
					
					<p class="launcher-note" style="margin-top: 20px;">
						‚Ä¢ AWS ECS Fargate ‚Ä¢ RDS MySQL Database ‚Ä¢ On-demand infrastructure
					</p>
				`;
				launcherDiv.style.display = 'block';
			}

			// Show the launcher form when app is not running
			function showLauncher() {
				document.getElementById('launcher-idle').style.display = 'block';
				document.getElementById('launcher-progress').style.display = 'none';
				document.getElementById('app-launcher').style.display = 'block';
			}


			// Poll the Lambda status endpoint until the app is ready
			async function checkApplicationStatus() {
				try {
					const response = await fetch(STATUS_ENDPOINT);
					const data = await response.json();

					console.log('Polling status:', data);

					const dbStatus = data.database_status || 'checking...';
					const appStatus = data.application_status || 'checking...';
					document.getElementById('launcher-status').textContent =
						`Database: ${dbStatus} | App: ${appStatus}`;

					if (data.database_status === 'available' &&
						data.application_status === 'RUNNING') {
						document.getElementById('launcher-progress-fill').style.width = '100%';
						return data;  // ‚Üê Changed: return data instead of true
					}

					let progress = 20;
					if (data.database_status === 'starting') progress = 40;
					if (data.database_status === 'available') progress = 60;
					if (data.application_status === 'PENDING') progress = 70;
					if (data.application_status === 'PROVISIONING') progress = 80;
					if (data.application_status === 'ACTIVATING') progress = 90;
					
					document.getElementById('launcher-progress-fill').style.width = `${progress}%`;
					return null;  // ‚Üê Changed: return null instead of false
					
				} catch (error) {
					console.error('Status check error:', error);
					document.getElementById('launcher-status').textContent = 'Checking services...';
					return null;  // ‚Üê Changed: return null instead of false
				}
			}

			// Monitor startup after launch request
			function monitorStartup() {
				const interval = setInterval(async () => {
					const data = await checkApplicationStatus();  // ‚Üê Changed: ready ‚Üí data
					if (data) {
						clearInterval(interval);
						
						const button = document.getElementById('start-app-btn');
						button.textContent = '‚úì App Running';
						button.style.backgroundColor = '#28a745';
						button.disabled = true;
						button.style.cursor = 'default';
						button.style.opacity = '1';

						// ‚Üê Added: Build URL from IP with fallback
						const directUrl = data.public_ip ? `http://${data.public_ip}` : APP_DOMAIN;

						const openLink = document.createElement('a');
						openLink.textContent = 'Open Music Library';
						openLink.href = `${directUrl}/library.html`;  // ‚Üê Changed: use directUrl
						openLink.target = '_blank';
						openLink.className = 'btn btn-success';
						openLink.style.cssText = `
							display: block;
							width: fit-content;
							margin: 20px auto 15px auto;
							font-size: 1.1rem;
							padding: 15px 35px;
							text-decoration: none;
						`;
						
						document.getElementById('launcher-progress').appendChild(openLink);
					}
				}, 10000);
			}

			// Main "Start Application" handler
			async function startApplication() {
				const email = document.getElementById('user-email').value;
				const button = document.getElementById('start-app-btn');
				const originalText = button.textContent;

				button.textContent = 'Starting Services‚Ä¶';
				button.disabled = true;

				try {
					const response = await fetch(START_ENDPOINT, {
						method: 'POST',
						headers: { 'Content-Type': 'application/json' },
						body: JSON.stringify({ email: email || null })
					});

					const result = await response.json();
					console.log('Start response:', result);

					document.getElementById('launcher-idle').style.display = 'none';
					document.getElementById('launcher-progress').style.display = 'block';

					monitorStartup();
					
				} catch (error) {
					console.error('Error starting application:', error);
					alert('Failed to start application. Please try again.');
					button.textContent = originalText;
					button.disabled = false;
				}
			}

			// Initialize on page load
			window.addEventListener('DOMContentLoaded', detectContext);
		</script>

	</body>
</html>