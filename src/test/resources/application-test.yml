spring:
  datasource:
    # H2 in-memory DB – no username/password needed
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=MYSQL # Starts an in‑memory H2 DB named testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    # Let Hibernate create/drop the schema for each test run
    hibernate:
      ddl-auto: create-drop   # creates tables from entities, drops at the end
    # Show the generated SQL in the test console (helps debugging)
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  # Whether Flyway runs against the H2 DB (optional – can skip Flyway for unit tests)
  # Enable for the same Flyway migrations to run against H2. 
  # Or set to false and rely on create-drop.
  flyway:
    enabled: false  # Flyway is disabled in tests to avoid schema conflicts with H2 - use JPA auto-schema generation
    locations: classpath:db/migration   # same scripts used for MySQL
